---
layout: default
title: åˆ†é¡
permalink: /categories.html
classes: categories-page
---

<div class="grid-3col content-root">
  <!-- å·¦æ¬„ï¼šåˆ†é¡å°èˆª -->
  <aside class="toc">
    <h3>ï¿½ï¸ æ”»æ“Šå‘é‡å°èˆª</h3>
    <nav id="categories-nav">
      {% assign all_categories = site.articles | map: 'categories' | join: ',' | split: ',' | uniq | sort %}
      {% for category in all_categories %}
        {% unless category == '' %}
          {% assign posts_count = site.articles | where_exp: "post", "post.categories contains category" | size %}
          <a href="#{{ category | slugify }}" class="toc-link" data-count="{{ posts_count }}">
            <span class="category-icon">
              {% case category %}
                {% when 'äººå·¥æ™ºèƒ½' %}ğŸ¤–
                {% when 'ç¨‹å¼èªè¨€' %}ğŸ’»
                {% when 'ç¶²é é–‹ç™¼' %}ğŸŒ
                {% when 'ç”Ÿæ´»åˆ†äº«' %}ğŸŒ±
                {% when 'æ•™å­¸' %}ğŸ“–
                {% when 'åŠŸèƒ½é …ç›®' %}âš™ï¸
                {% when 'å·¥å…·åˆ†äº«' %}ğŸ› ï¸
                {% when 'å¿ƒå¾—ç­†è¨˜' %}ğŸ’­
                {% else %}ğŸ“„
              {% endcase %}
            </span>
            <span class="category-name">{{ category }}</span>
            <span class="category-count">{{ posts_count }}</span>
          </a>
        {% endunless %}
      {% endfor %}
    </nav>
  </aside>

  <!-- ä¸­æ¬„ï¼šåˆ†é¡å…§å®¹ -->
  <div class="maincol">
    <!-- é é¢æ¨™é¡Œ -->
    <header class="page-title">
      <h1 class="glow-gold rune-text">ğŸ“‚ æ”»æ“Šå‘é‡åˆ†é¡</h1>
      <p class="page-description">æŒ‰æŠ€è¡“é ˜åŸŸåˆ†é¡çš„å¨è„…æƒ…å ±èˆ‡å…¥ä¾µè¨˜éŒ„</p>
    </header>
      
    {% assign all_categories = site.articles | map: 'categories' | join: ',' | split: ',' | uniq | sort %}
    {% for category in all_categories %}
      {% unless category == '' %}
        {% assign category_posts = site.articles | where_exp: "post", "post.categories contains category" | sort: 'date' | reverse %}
        {% if category_posts.size > 0 %}
          <section class="category-section" id="{{ category | slugify }}">
            <div class="category-header card">
              <div class="category-title-group">
                <span class="category-icon-large">
                  {% case category %}
                    {% when 'äººå·¥æ™ºèƒ½' %}ğŸ¤–
                    {% when 'ç¨‹å¼èªè¨€' %}ğŸ’»
                    {% when 'ç¶²é é–‹ç™¼' %}ğŸŒ
                    {% when 'ç”Ÿæ´»åˆ†äº«' %}ğŸŒ±
                    {% when 'æ•™å­¸' %}ğŸ“–
                    {% when 'åŠŸèƒ½é …ç›®' %}âš™ï¸
                    {% when 'å·¥å…·åˆ†äº«' %}ğŸ› ï¸
                    {% when 'å¿ƒå¾—ç­†è¨˜' %}ğŸ’­
                    {% else %}ğŸ“„
                  {% endcase %}
                </span>
                <div class="category-title-info">
                  <h2 class="glow-blue">{{ category }}</h2>
                  <p class="category-description">
                    {% case category %}
                      {% when 'äººå·¥æ™ºèƒ½' %}AIã€æ©Ÿå™¨å­¸ç¿’ã€æ·±åº¦å­¸ç¿’ç›¸é—œæŠ€è¡“
                      {% when 'ç¨‹å¼èªè¨€' %}ç¨‹å¼èªè¨€æ•™å­¸å’Œé–‹ç™¼æŠ€å·§
                      {% when 'ç¶²é é–‹ç™¼' %}å‰ç«¯ã€å¾Œç«¯ã€æ¡†æ¶æŠ€è¡“åˆ†äº«
                      {% when 'ç”Ÿæ´»åˆ†äº«' %}å€‹äººç¶“é©—ã€æ—¥å¸¸è¨˜éŒ„èˆ‡æ€è€ƒ
                      {% when 'æ•™å­¸' %}è©³ç´°æ•™å­¸æŒ‡å—å’Œæ­¥é©Ÿæ•™å­¸
                      {% when 'åŠŸèƒ½é …ç›®' %}å°ˆæ¡ˆå¯¦ä½œå±•ç¤ºå’ŒåŠŸèƒ½é–‹ç™¼
                      {% when 'å·¥å…·åˆ†äº«' %}å¯¦ç”¨å·¥å…·æ¨è–¦å’Œè³‡æºåˆ†äº«
                      {% when 'å¿ƒå¾—ç­†è¨˜' %}å­¸ç¿’å¿ƒå¾—å’ŒæŠ€è¡“ç­†è¨˜æ•´ç†
                      {% else %}å…¶ä»–ç›¸é—œå…§å®¹
                    {% endcase %}
                  </p>
                </div>
              </div>
              <div class="category-stats">
                <span class="category-count-badge glow-red">{{ category_posts.size }} å€‹å¨è„…</span>
              </div>
            </div>
            
            <div class="posts-horizontal-list">
              {% for post in category_posts %}
                <article class="post-horizontal-card card">
                  <div class="post-horizontal-content">
                    <div class="post-horizontal-main">
                      <h3 class="post-horizontal-title">
                        <a href="{{ post.url | relative_url }}" class="glow-blue">{{ post.title }}</a>
                      </h3>
                      
                      <div class="post-horizontal-meta">
                        <span class="post-date">
                          <span class="meta-icon">ï¿½</span>
                          {{ post.date | date: "%Y-%m-%d" }}
                        </span>
                        {% if post.tags.size > 0 %}
                          <div class="post-tags-inline">
                            {% for tag in post.tags limit:4 %}
                              <span class="tag">{{ tag }}</span>
                            {% endfor %}
                            {% if post.tags.size > 4 %}
                              <span class="tag-more">+{{ post.tags.size | minus: 4 }}</span>
                            {% endif %}
                          </div>
                        {% endif %}
                      </div>
                      
                      {% if post.excerpt %}
                        <div class="post-horizontal-excerpt">
                          {{ post.excerpt | strip_html | truncatewords: 30 }}
                        </div>
                      {% endif %}
                    </div>
                    
                    <div class="post-horizontal-actions">
                      <a href="{{ post.url | relative_url }}" class="btn secondary">
                        <span class="btn-icon">ğŸ‘ï¸</span>
                        æª¢è¦–å¨è„…
                      </a>
                    </div>
                  </div>
                </article>
              {% endfor %}
            </div>
            
            <hr class="divider">
          </section>
        {% endif %}
      {% endunless %}
    {% endfor %}

    <div class="navigation-footer">
      <a href="{{ '/' | relative_url }}" class="btn outline">
        <span class="btn-icon">ğŸ </span>
        è¿”å›ç¸½éƒ¨
      </a>
      <a href="{{ '/posts.html' | relative_url }}" class="btn primary">
        <span class="btn-icon">ğŸ“š</span>
        æª¢è¦–æ‰€æœ‰å¨è„…
      </a>
    </div>
  </div>

  <!-- å³æ¬„ï¼šåˆ†é¡çµ±è¨ˆèˆ‡å·¥å…· -->
  <aside class="sidebar">
    <div class="card breathing-glow">
      <h3>ğŸ“Š å¨è„…çµ±è¨ˆ</h3>
      <div class="categories-stats-grid">
        {% assign all_categories = site.articles | map: 'categories' | join: ',' | split: ',' | uniq %}
        {% assign categories_count = all_categories | size %}
        
        <div class="stat-card">
          <div class="stat-icon glow-gold">ğŸ“‚</div>
          <div class="stat-info">
            <div class="stat-number">{{ categories_count }}</div>
            <div class="stat-label">æ”»æ“Šå‘é‡</div>
          </div>
        </div>
        
        <div class="stat-card">
          <div class="stat-icon glow-blue">ğŸ“</div>
          <div class="stat-info">
            <div class="stat-number">{{ site.articles.size }}</div>
            <div class="stat-label">å¨è„…æƒ…å ±</div>
          </div>
        </div>
        
        {% if site.articles.size > 0 %}
          {% assign avg_per_category = site.articles.size | divided_by: categories_count %}
          <div class="stat-card">
            <div class="stat-icon glow-red">ğŸ“ˆ</div>
            <div class="stat-info">
              <div class="stat-number">{{ avg_per_category }}</div>
              <div class="stat-label">å¹³å‡å¨è„…æ•¸</div>
            </div>
          </div>
        {% endif %}
      </div>
    </div>
    
    <div class="card">
      <h3>ğŸ”¥ ç†±é–€æ”»æ“Šå‘é‡</h3>
      <div class="hot-categories-list">
        {% assign sorted_categories = all_categories | map: 'name' %}
        {% assign category_with_counts = '' | split: ',' %}
        
        {% for category in all_categories %}
          {% unless category == '' %}
            {% assign category_posts = site.articles | where_exp: "post", "post.categories contains category" %}
            {% assign category_info = category | append: '|' | append: category_posts.size %}
            {% assign category_with_counts = category_with_counts | push: category_info %}
          {% endunless %}
        {% endfor %}
        
        {% assign sorted_category_with_counts = category_with_counts | sort | reverse %}
        
        {% for category_info in sorted_category_with_counts limit:6 %}
          {% assign category_parts = category_info | split: '|' %}
          {% assign category = category_parts[0] %}
          {% assign count = category_parts[1] %}
          
          <div class="hot-category-item">
            <a href="#{{ category | slugify }}" class="hot-category-link">
              <span class="hot-category-icon">
                {% case category %}
                  {% when 'äººå·¥æ™ºèƒ½' %}ğŸ¤–
                  {% when 'ç¨‹å¼èªè¨€' %}ï¿½
                  {% when 'ç¶²é é–‹ç™¼' %}ğŸŒ
                  {% when 'ç”Ÿæ´»åˆ†äº«' %}ğŸŒ±
                  {% when 'æ•™å­¸' %}ğŸ“–
                  {% when 'åŠŸèƒ½é …ç›®' %}âš™ï¸
                  {% when 'å·¥å…·åˆ†äº«' %}ğŸ› ï¸
                  {% when 'å¿ƒå¾—ç­†è¨˜' %}ğŸ’­
                  {% else %}ğŸ“„
                {% endcase %}
              </span>
              <span class="hot-category-name">{{ category }}</span>
              <span class="hot-category-count">{{ count }}</span>
            </a>
          </div>
        {% endfor %}
      </div>
    </div>

    <div class="card">
      <h3>ğŸ” æ¢ç´¢å·¥å…·</h3>
      <div class="exploration-tools">
        <a href="{{ '/tags.html' | relative_url }}" class="tool-link">
          <span class="tool-icon">ğŸ·ï¸</span>
          <div class="tool-info">
            <span class="tool-name">æ¨™ç±¤é›²</span>
            <span class="tool-desc">æŒ‰æ¨™ç±¤æ¢ç´¢</span>
          </div>
        </a>
        
        <a href="{{ '/search.html' | relative_url }}" class="tool-link">
          <span class="tool-icon">ğŸ”</span>
          <div class="tool-info">
            <span class="tool-name">æœå°‹å¼•æ“</span>
            <span class="tool-desc">å…¨æ–‡æœå°‹</span>
          </div>
        </a>
        
        <a href="{{ '/posts.html' | relative_url }}" class="tool-link">
          <span class="tool-icon">ğŸ“‹</span>
          <div class="tool-info">
            <span class="tool-name">æ–‡ç« åˆ—è¡¨</span>
            <span class="tool-desc">æ‰€æœ‰å¨è„…</span>
          </div>
        </a>
      </div>
    </div>

    <div class="card">
      <h3>ğŸ“… æœ€æ–°å…¥ä¾µ</h3>
      <div class="recent-posts-sidebar">
        {% for post in site.articles limit:5 %}
          <article class="recent-post-item">
            <a href="{{ post.url | relative_url }}" class="recent-post-link">
              <h4 class="recent-post-title">{{ post.title | truncate: 35 }}</h4>
              <div class="recent-post-meta">
                <span class="recent-post-date">{{ post.date | date: "%m-%d" }}</span>
                {% if post.categories.size > 0 %}
                  <span class="recent-post-category">{{ post.categories | first }}</span>
                {% endif %}
              </div>
            </a>
          </article>
        {% endfor %}
      </div>
    </div>
  </aside>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // åˆ†é¡å°èˆªé«˜äº®
  const categoryLinks = document.querySelectorAll('#categories-nav .toc-link');
  const categorySection = document.querySelectorAll('.category-section');

  // æ»¾å‹•ç›£è½
  function updateActiveCategory() {
    let current = '';
    const scrollTop = window.pageYOffset + 100;

    categorySection.forEach(section => {
      const sectionTop = section.offsetTop;
      const sectionHeight = section.offsetHeight;
      
      if (scrollTop >= sectionTop && scrollTop < sectionTop + sectionHeight) {
        current = section.getAttribute('id');
      }
    });

    categoryLinks.forEach(link => {
      link.classList.remove('active');
      if (link.getAttribute('href') === '#' + current) {
        link.classList.add('active');
      }
    });
  }

  // å¹³æ»‘æ»¾å‹•
  categoryLinks.forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      
      const targetId = this.getAttribute('href').substring(1);
      const targetElement = document.getElementById(targetId);
      
      if (targetElement) {
        const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - 100;
        
        window.scrollTo({
          top: targetPosition,
          behavior: 'smooth'
        });
        
        // æ›´æ–° URL
        history.pushState(null, '', '#' + targetId);
      }
    });
  });

  // æ»¾å‹•äº‹ä»¶ç›£è½
  let ticking = false;
  function requestTick() {
    if (!ticking) {
      requestAnimationFrame(() => {
        updateActiveCategory();
        ticking = false;
      });
      ticking = true;
    }
  }

  window.addEventListener('scroll', requestTick);
  
  // åˆå§‹åŒ–
  updateActiveCategory();
  
  // è™•ç† URL hash
  if (window.location.hash) {
    setTimeout(() => {
      const target = document.querySelector(window.location.hash);
      if (target) {
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    }, 100);
  }
});
</script>
          </div>
        {% endif %}
      </div>
    </div>

    <div class="card">
      <div class="card-title">ğŸ”¥ ç†±é–€åˆ†é¡</div>
      <div class="popular-categories">
        {% assign category_counts = '' | split: '' %}
        {% assign all_categories = site.articles | map: 'categories' | join: ',' | split: ',' | uniq | sort %}
        {% for category in all_categories %}
          {% unless category == '' %}
            {% assign posts_count = site.articles | where_exp: "post", "post.categories contains category" | size %}
            {% assign category_counts = category_counts | push: category | push: posts_count %}
          {% endunless %}
        {% endfor %}
        
        {% for category in all_categories limit: 6 %}
          {% unless category == '' %}
            {% assign posts_count = site.articles | where_exp: "post", "post.categories contains category" | size %}
            <a class="category-link" href="#{{ category | slugify }}">
              <span class="category-name">{{ category }}</span>
              <span class="category-badge">{{ posts_count }}</span>
            </a>
          {% endunless %}
        {% endfor %}
      </div>
    </div>

    <div class="card">
      <div class="card-title">ğŸš€ å¿«é€Ÿå°èˆª</div>
      <div class="quick-nav">
        <a href="{{ '/posts.html' | relative_url }}" class="nav-item">
          <span class="nav-icon">ğŸ“š</span>
          <span class="nav-text">æ‰€æœ‰æ–‡ç« </span>
        </a>
        <a href="{{ '/tags.html' | relative_url }}" class="nav-item">
          <span class="nav-icon">ğŸ·ï¸</span>
          <span class="nav-text">æ–‡ç« æ¨™ç±¤</span>
        </a>
        <a href="{{ '/search.html' | relative_url }}" class="nav-item">
          <span class="nav-icon">ğŸ”</span>
          <span class="nav-text">æœå°‹æ–‡ç« </span>
        </a>
      </div>
    </div>
  </aside>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  // åˆ†é¡é é¢çš„ TOC ç”Ÿæˆå’Œçµ±è¨ˆæ•¸æ“š
  const tocContainer = document.getElementById("toc");
  if (tocContainer) {
    const sections = document.querySelectorAll('h1[id], h2[id], h3[id]');
    const tocLinks = [];
    
    sections.forEach(section => {
      const link = document.createElement('a');
      link.href = '#' + section.id;
      link.textContent = section.textContent;
      link.className = 'toc-link';
      
      // æ ¹æ“šæ¨™é¡Œå±¤ç´šè¨­ç½®æ¨£å¼
      if (section.tagName === 'H1') {
        link.style.fontWeight = 'bold';
      } else if (section.tagName === 'H2') {
        link.style.paddingLeft = '1rem';
      } else if (section.tagName === 'H3') {
        link.style.paddingLeft = '2rem';
        link.style.fontSize = '0.9em';
        link.style.opacity = '0.8';
      }
      
      tocContainer.appendChild(link);
      tocLinks.push(link);
    });

    // TOC é»æ“Šäº‹ä»¶å’Œé«˜äº®é‚è¼¯
    let isScrolling = false;
    
    tocLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        isScrolling = true;
        
        // ç§»é™¤æ‰€æœ‰ active ç‹€æ…‹
        tocLinks.forEach(l => l.classList.remove('active'));
        link.classList.add('active');
        
        const target = document.querySelector(link.getAttribute('href'));
        if (target) {
          const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - 100;
          window.scrollTo({
            top: targetPosition,
            behavior: "smooth"
          });
          history.replaceState(null, "", link.getAttribute('href'));
          
          setTimeout(() => {
            isScrolling = false;
          }, 1500);
        }
      });
    });

    function updateActiveTOC() {
      if (isScrolling) return;
      
      let currentActive = null;
      const scrollTop = window.pageYOffset + 120;
      
      // å¾å¾Œå¾€å‰æª¢æŸ¥ï¼Œæ‰¾åˆ°ç•¶å‰æ‡‰è©²é«˜äº®çš„å€åŸŸ
      for (let i = sections.length - 1; i >= 0; i--) {
        const section = sections[i];
        if (section.offsetTop <= scrollTop) {
          currentActive = tocLinks[i];
          break;
        }
      }
      
      // å¦‚æœæ²’æœ‰æ‰¾åˆ°ï¼Œæ ¹æ“šæ»¾å‹•ä½ç½®æ±ºå®š
      if (!currentActive) {
        const windowHeight = window.innerHeight;
        const documentHeight = document.documentElement.scrollHeight;
        
        // å¦‚æœæ¥è¿‘é é¢åº•éƒ¨ï¼Œé«˜äº®æœ€å¾Œä¸€å€‹
        if (scrollTop + windowHeight >= documentHeight - 200) {
          currentActive = tocLinks[tocLinks.length - 1];
        } else {
          // å¦å‰‡é«˜äº®ç¬¬ä¸€å€‹
          currentActive = tocLinks[0];
        }
      }
      
      // æ›´æ–°é«˜äº®
      tocLinks.forEach(link => link.classList.remove('active'));
      if (currentActive) {
        currentActive.classList.add('active');
        
        // ç¢ºä¿æ´»å‹•é …ç›®åœ¨TOCä¸­å¯è¦‹
        const tocContainer = document.getElementById('toc');
        if (tocContainer && currentActive) {
          const containerRect = tocContainer.getBoundingClientRect();
          const activeRect = currentActive.getBoundingClientRect();
          
          if (activeRect.bottom > containerRect.bottom || activeRect.top < containerRect.top) {
            currentActive.scrollIntoView({ 
              behavior: 'smooth', 
              block: 'center',
              inline: 'nearest' 
            });
          }
        }
      }
    }
    
    let ticking = false;
    function requestTick() {
      if (!ticking) {
        requestAnimationFrame(() => {
          updateActiveTOC();
          ticking = false;
        });
        ticking = true;
      }
    }
    
    window.addEventListener('scroll', requestTick);
    updateActiveTOC();
  }

  // çµ±è¨ˆæ•¸æ“šæ›´æ–° - å¾å¯¦éš›æ–‡ç« æ•¸æ“šè¨ˆç®—
  const allArticles = document.querySelectorAll('.article-card');
  const totalArticles = allArticles.length;
  
  const categoryCount = new Map();
  allArticles.forEach(article => {
    const categoryElement = article.querySelector('.article-category');
    if (categoryElement) {
      const category = categoryElement.textContent.trim();
      categoryCount.set(category, (categoryCount.get(category) || 0) + 1);
    }
  });
  
  // æ›´æ–°å³æ¬„çµ±è¨ˆæ•¸æ“š
  const statsElement = document.querySelector('.stats-grid .stat-number');
  if (statsElement) {
    statsElement.textContent = totalArticles;
  }
  
  const categoriesStatElement = document.querySelectorAll('.stats-grid .stat-number')[1];
  if (categoriesStatElement) {
    categoriesStatElement.textContent = categoryCount.size;
  }
  
  // æ›´æ–°ç†±é–€åˆ†é¡
  const popularCategoriesContainer = document.querySelector('.popular-categories');
  if (popularCategoriesContainer) {
    // æ¸…ç©ºç¾æœ‰å…§å®¹
    popularCategoriesContainer.innerHTML = '<h3>ç†±é–€åˆ†é¡</h3>';
    
    // å°‡åˆ†é¡æŒ‰æ–‡ç« æ•¸é‡æ’åº
    const sortedCategories = Array.from(categoryCount.entries())
      .sort((a, b) => b[1] - a[1])
      .slice(0, 5); // åªé¡¯ç¤ºå‰5å€‹
    
    sortedCategories.forEach(([category, count]) => {
      const categoryLink = document.createElement('a');
      categoryLink.href = '#' + category.replace(/\s+/g, '-').toLowerCase();
      categoryLink.className = 'category-link';
      categoryLink.innerHTML = `${category} <span class="count">(${count})</span>`;
      popularCategoriesContainer.appendChild(categoryLink);
    });
  }
});

// TOC æ”¶èµ·/å±•é–‹åŠŸèƒ½ (å…¨åŸŸå‡½å¼)
function toggleTOC() {
  const toc = document.getElementById('post-toc');
  const icon = document.getElementById('toc-icon');
  
  if (!toc || !icon) return;
  
  if (toc.classList.contains('collapsed')) {
    toc.classList.remove('collapsed');
    icon.textContent = 'â˜°';
  } else {
    toc.classList.add('collapsed');
    icon.textContent = 'â–¶';
  }
}

// éŸ¿æ‡‰å¼æª¢æŸ¥
function checkScreenWidth() {
  const toc = document.getElementById('post-toc');
  if (window.innerWidth < 1024 && toc) {
    toc.classList.add('collapsed');
    const icon = document.getElementById('toc-icon');
    if (icon) icon.textContent = 'â–¶';
  }
}

// åˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', function() {
  checkScreenWidth();
  window.addEventListener('resize', checkScreenWidth);
  
  // TOC éˆæ¥é»æ“Šå¹³æ»‘æ»¾å‹•
  document.querySelectorAll('#categories-toc a').forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    });
  });
});
</script>

---
layout: default
title: é¦–é 
classes: home three-column
---

<!-- é ‚éƒ¨é€²åº¦æ¢ -->
<div class="scroll-progress-top" id="scroll-progress-top"></div>

<!-- ä¸‰æ¬„å¼å¸ƒå±€ -->
<div class="three-column-layout">
  <!-- å·¦æ¬„ï¼šå°èˆªç›®éŒ„ -->
  <aside class="left-sidebar">
    <div class="sidebar-content">
      <div class="nav-card">
        <h3 class="sidebar-title">ğŸ—ºï¸ å¿«é€Ÿå°èˆª</h3>
        <nav id="toc" class="toc-nav">
          <!-- JavaScript æœƒå‹•æ…‹ç”Ÿæˆç›®éŒ„ -->
        </nav>
      </div>
      
      <div class="nav-card">
        <h3 class="sidebar-title">ğŸ“š ç«™é»å°èˆª</h3>
        <div class="site-nav">
          <a href="{{ '/posts.html' | relative_url }}" class="nav-link">
            <span class="nav-icon">ğŸ“</span>
            <span class="nav-text">æ‰€æœ‰æ–‡ç« </span>
          </a>
          <a href="{{ '/categories.html' | relative_url }}" class="nav-link">
            <span class="nav-icon">ğŸ“‚</span>
            <span class="nav-text">åˆ†é¡ç€è¦½</span>
          </a>
          <a href="{{ '/tags.html' | relative_url }}" class="nav-link">
            <span class="nav-icon">ğŸ·ï¸</span>
            <span class="nav-text">æ¨™ç±¤é›²</span>
          </a>
          <a href="{{ '/search.html' | relative_url }}" class="nav-link">
            <span class="nav-icon">ğŸ”</span>
            <span class="nav-text">æœå°‹åŠŸèƒ½</span>
          </a>
        </div>
      </div>
    </div>
  </aside>

  <!-- ä¸­æ¬„ï¼šä¸»è¦å…§å®¹ -->
  <main class="main-content">
    <!-- Hero å€åŸŸ -->
    <section class="hero-section" id="hero">
      <div class="hero-background">
        <img src="{{ '/assets/image/banner.png' | relative_url }}" 
             alt="YoFat Banner Background" 
             class="hero-bg-image"
             loading="lazy"
             decoding="async">
        <div class="hero-overlay"></div>
      </div>
      
      <div class="hero-container">
        <div class="hero-content">
          <div class="hero-text">
            <h1 class="hero-title">
              <span class="hero-greeting">Hi, æˆ‘æ˜¯</span>
              <span class="hero-name glow-effect">YOFAT</span>
            </h1>
            <p class="hero-subtitle">ğŸ” ç¶²è·¯å®‰å…¨ Ã— ğŸ¤– äººå·¥æ™ºèƒ½ Ã— âš”ï¸ ç´…è—å°æŠ—</p>
            <p class="hero-description">å°ˆæ³¨æ–¼è³‡è¨Šå®‰å…¨ã€AI æŠ€è¡“èˆ‡æ”»é˜²æŠ€è¡“çš„é‚ªæ°£åˆ†äº«</p>
            <div class="hero-buttons">
              <a href="{{ '/posts.html' | relative_url }}" class="btn btn-primary">
                <span class="btn-icon">ğŸ“š</span>
                ç€è¦½æ–‡ç« 
              </a>
              <a href="{{ '/categories.html' | relative_url }}" class="btn btn-secondary">
                <span class="btn-icon">ğŸ“‚</span>
                çœ‹åˆ†é¡
              </a>
              <a href="{{ '/search.html' | relative_url }}" class="btn btn-accent">
                <span class="btn-icon">ğŸ”</span>
                æœå°‹æ–‡ç« 
              </a>
            </div>
          </div>
          <div class="hero-image">
            <div class="hero-avatar">
              <img src="{{ '/assets/image/logo.jpg' | relative_url }}" 
                   alt="YoFat Profile"
                   loading="lazy"
                   decoding="async"
                   width="200"
                   height="200">
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="content-divider"></div>

    <!-- æœ€æ–°æ–‡ç« å€åŸŸ -->
    <section id="latest-posts" class="content-section">
      <div class="section-header">
        <h2 class="section-title glow-effect">ğŸ”¥ æœ€æ–°æ–‡ç« </h2>
        <p class="section-description">æ¢ç´¢æœ€æ–°çš„æŠ€è¡“åˆ†äº«èˆ‡å­¸ç¿’å¿ƒå¾—</p>
      </div>
      
      <div class="articles-grid">
        {% for post in site.articles limit:6 %}
          <article class="article-card">
            <div class="article-header">
              <h3 class="article-title">
                <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
              </h3>
              <div class="article-meta">
                <span class="article-date">ğŸ“… {{ post.date | date: "%Y-%m-%d" }}</span>
                {% if post.categories.size > 0 %}
                  <span class="article-category">{{ post.categories | first }}</span>
                {% endif %}
              </div>
            </div>
            
            <div class="article-excerpt">
              {{ post.excerpt | strip_html | truncatewords: 20 }}
            </div>
            
            <div class="article-footer">
              <div class="article-tags">
                {% for tag in post.tags limit:3 %}
                  <span class="article-tag">{{ tag }}</span>
                {% endfor %}
              </div>
              <a href="{{ post.url | relative_url }}" class="btn btn-outline">é–±è®€æ›´å¤š</a>
            </div>
          </article>
        {% endfor %}
      </div>
      
      <div class="section-footer">
        <a href="{{ '/posts.html' | relative_url }}" class="btn btn-primary">
          æŸ¥çœ‹æ‰€æœ‰æ–‡ç«  â†’
        </a>
      </div>
    </section>

    <div class="content-divider"></div>

    <!-- åˆ†é¡æ¦‚è¦½ -->
    <section id="categories-overview" class="content-section">
      <div class="section-header">
        <h2 class="section-title glow-effect">ğŸ“‚ å…§å®¹åˆ†é¡</h2>
        <p class="section-description">æŒ‰ä¸»é¡Œç€è¦½ä¸åŒé¡å‹çš„æŠ€è¡“å…§å®¹</p>
      </div>
      
      <div class="categories-grid">
        {% assign sorted_categories = site.data.categories %}
        {% for category_data in sorted_categories %}
          {% assign category_name = category_data[0] %}
          {% assign category_info = category_data[1] %}
          {% assign category_posts = site.articles | where_exp: "post", "post.categories contains category_name" %}
          
          <div class="category-card">
            <div class="category-icon">
              {% case category_name %}
                {% when 'äººå·¥æ™ºèƒ½' %}ğŸ¤–
                {% when 'ç¨‹å¼èªè¨€' %}ğŸ’»
                {% when 'ç¶²é é–‹ç™¼' %}ğŸŒ
                {% when 'ç”Ÿæ´»åˆ†äº«' %}ğŸŒ±
                {% when 'æ•™å­¸' %}ğŸ“–
                {% when 'åŠŸèƒ½é …ç›®' %}âš™ï¸
                {% when 'å·¥å…·åˆ†äº«' %}ğŸ› ï¸
                {% when 'å¿ƒå¾—ç­†è¨˜' %}ğŸ’­
                {% else %}ğŸ“„
              {% endcase %}
            </div>
            <h3 class="category-title">{{ category_name }}</h3>
            <p class="category-count">{{ category_posts.size }} ç¯‡æ–‡ç« </p>
            <div class="category-topics">
              {% for topic in category_info limit:3 %}
                <span class="category-topic">{{ topic }}</span>
              {% endfor %}
            </div>
            <a href="{{ '/categories.html' | relative_url }}#{{ category_name }}" class="btn btn-outline">æ¢ç´¢</a>
          </div>
        {% endfor %}
      </div>
    </section>

    <div class="content-divider"></div>

    <!-- é—œæ–¼æˆ‘å€åŸŸ -->
    <section id="about-me" class="content-section">
      <div class="section-header">
        <h2 class="section-title glow-effect">ğŸ’€ é—œæ–¼é§­å®¢</h2>
        <p class="section-description">ä¸€å€‹åœ¨ç¶²è·¯å®‰å…¨èˆ‡AIé ˜åŸŸæ¢ç´¢çš„é‚ªæ°£å­¸ç¿’è€…</p>
      </div>
      
      <div class="about-content">
        <div class="about-text">
          <p>ğŸ”¥ æˆ‘æ˜¯ <strong class="highlight-text">YOFAT</strong>ï¼Œæ­£åœ¨æ·±å…¥å­¸ç¿’ç¶²è·¯å®‰å…¨èˆ‡äººå·¥æ™ºèƒ½æŠ€è¡“ã€‚</p>
          <p>âš”ï¸ å°ˆæ³¨æ–¼ç´…éšŠæ”»æ“ŠæŠ€è¡“ã€è—éšŠé˜²ç¦¦ç­–ç•¥ï¼Œä»¥åŠAIåœ¨è³‡å®‰é ˜åŸŸçš„æ‡‰ç”¨ã€‚</p>
          <p>ğŸ’­ é€éå¯¦æˆ°ç¶“é©—å’ŒæŠ€è¡“ç ”ç©¶ï¼Œå°‡å­¸ç¿’æˆæœè¨˜éŒ„åœ¨é€™å€‹è¢«æ±¡æŸ“çš„æ•¸ä½ç©ºé–“ä¸­ã€‚</p>
        </div>
        
        <div class="skills-showcase">
          <h4 class="skills-title">ğŸ› ï¸ æŠ€è¡“æ£§</h4>
          <div class="skills-grid">
            <span class="skill-tag python">ğŸ Python</span>
            <span class="skill-tag js">âš¡ JavaScript</span>
            <span class="skill-tag security">ğŸ”’ æ»²é€æ¸¬è©¦</span>
            <span class="skill-tag ai">ğŸ¤– æ©Ÿå™¨å­¸ç¿’</span>
            <span class="skill-tag web">ğŸŒ ç¶²é é–‹ç™¼</span>
            <span class="skill-tag crypto">ğŸ” å¯†ç¢¼å­¸</span>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- å³æ¬„ï¼šç²¾ç°¡è³‡è¨Š -->
  <aside class="right-sidebar">
    <div class="sidebar-content">
      <div class="info-card">
        <h3 class="card-title">ğŸ“Š ç¶²ç«™çµ±è¨ˆ</h3>
        <div class="stats-list">
          <div class="stat-item">
            <span class="stat-icon">ğŸ“</span>
            <div class="stat-info">
              <span class="stat-number">{{ site.articles.size }}</span>
              <span class="stat-label">ç¯‡æ–‡ç« </span>
            </div>
          </div>
          
          <div class="stat-item">
            <span class="stat-icon">ğŸ“‚</span>
            <div class="stat-info">
              <span class="stat-number">
                {% assign categories = site.articles | map: 'categories' | join: ',' | split: ',' | uniq %}
                {{ categories.size }}
              </span>
              <span class="stat-label">å€‹åˆ†é¡</span>
            </div>
          </div>
          
          <div class="stat-item">
            <span class="stat-icon">ğŸ·ï¸</span>
            <div class="stat-info">
              <span class="stat-number">
                {% assign tags = site.articles | map: 'tags' | join: ',' | split: ',' | uniq %}
                {{ tags.size }}
              </span>
              <span class="stat-label">å€‹æ¨™ç±¤</span>
            </div>
          </div>
        </div>
      </div>
      
      <div class="info-card">
        <h3 class="card-title">ğŸš€ æœ€æ–°å‹•æ…‹</h3>
        <div class="recent-posts">
          {% for post in site.articles limit:5 %}
            <article class="recent-post">
              <a href="{{ post.url | relative_url }}" class="recent-post-link">
                <h4 class="recent-post-title">{{ post.title | truncate: 30 }}</h4>
                <div class="recent-post-meta">
                  <span class="recent-post-date">{{ post.date | date: "%m-%d" }}</span>
                  {% if post.categories.size > 0 %}
                    <span class="recent-post-category">{{ post.categories | first }}</span>
                  {% endif %}
                </div>
              </a>
            </article>
          {% endfor %}
        </div>
      </div>
      
      <div class="info-card">
        <h3 class="card-title">â­ æºç¢¼åº«</h3>
        <div class="github-section">
          <p class="github-description">é€™å€‹è¢«æ±¡æŸ“çš„æ•¸ä½å ¡å£˜çš„æºç¢¼</p>
          <a class="btn btn-secondary" 
             href="https://github.com/{{ site.github_owner }}/{{ site.github_repo }}"
             target="_blank"
             rel="noopener">
            <span class="btn-icon">â­</span>
            Star on GitHub
          </a>
        </div>
      </div>
    </div>
  </aside>
</div>

<!-- åº•éƒ¨é€²åº¦æ¢ -->
<div class="scroll-progress-bottom" id="scroll-progress-bottom"></div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  // æ»¾å‹•é€²åº¦æ¢å‹•ç•«
  const scrollProgressTop = document.getElementById('scroll-progress-top');
  const scrollProgressBottom = document.getElementById('scroll-progress-bottom');
  
  function updateScrollProgress() {
    const scrollTop = window.pageYOffset;
    const docHeight = document.documentElement.scrollHeight - window.innerHeight;
    const scrollPercent = (scrollTop / docHeight) * 100;
    
    // é ‚éƒ¨é€²åº¦æ¢
    scrollProgressTop.style.width = scrollPercent + '%';
    
    // åº•éƒ¨é€²åº¦æ¢ (ç•¶æ»¾å‹•åˆ°åº•éƒ¨æ™‚é¡¯ç¤º)
    if (scrollPercent > 95) {
      scrollProgressBottom.style.opacity = '1';
      scrollProgressBottom.style.width = '100%';
    } else {
      scrollProgressBottom.style.opacity = '0';
      scrollProgressBottom.style.width = '0%';
    }
  }
  
  // å„ªåŒ–æ»¾å‹•æ€§èƒ½
  let ticking = false;
  function requestTick() {
    if (!ticking) {
      requestAnimationFrame(() => {
        updateScrollProgress();
        updateActiveTOC();
        ticking = false;
      });
      ticking = true;
    }
  }
  
  window.addEventListener('scroll', requestTick);
  
  // TOC å°èˆªç”Ÿæˆ
  const tocContainer = document.getElementById("toc");
  if (tocContainer) {
    const tocItems = [
      { href: '#latest-posts', text: 'ğŸ”¥ æœ€æ–°æ–‡ç« ' },
      { href: '#categories-overview', text: 'ğŸ“‚ å…§å®¹åˆ†é¡' },
      { href: '#about-me', text: 'ğŸ’€ é—œæ–¼é§­å®¢' }
    ];

    tocItems.forEach(item => {
      const link = document.createElement('a');
      link.href = item.href;
      link.textContent = item.text;
      link.className = 'toc-link';
      tocContainer.appendChild(link);
    });

    const tocLinks = Array.from(tocContainer.querySelectorAll('.toc-link'));
    let isScrolling = false;
    
    // TOC é»æ“Šäº‹ä»¶
    tocItems.forEach((item, index) => {
      const link = tocLinks[index];
      if (link) {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          isScrolling = true;
          
          tocLinks.forEach(l => l.classList.remove('active'));
          link.classList.add('active');
          
          const target = document.querySelector(item.href);
          if (target) {
            const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - 120;
            window.scrollTo({
              top: targetPosition,
              behavior: "smooth"
            });
            history.replaceState(null, "", item.href);
            
            setTimeout(() => {
              isScrolling = false;
            }, 1500);
          }
        });
      }
    });

    function updateActiveTOC() {
      if (isScrolling) return;
      
      let currentActive = null;
      const scrollTop = window.pageYOffset + 150;
      
      for (let i = tocItems.length - 1; i >= 0; i--) {
        const sectionId = tocItems[i].href.substring(1);
        const section = document.getElementById(sectionId);
        
        if (section && section.offsetTop <= scrollTop) {
          currentActive = tocLinks[i];
          break;
        }
      }
      
      if (!currentActive && tocLinks.length > 0) {
        currentActive = tocLinks[0];
      }
      
      tocLinks.forEach(link => link.classList.remove('active'));
      if (currentActive) {
        currentActive.classList.add('active');
      }
    }
    
    updateActiveTOC();
  }
  
  // åˆå§‹åŒ–æ»¾å‹•æ•ˆæœ
  updateScrollProgress();
  
  // ç‚ºæ–‡ç« å¡ç‰‡æ·»åŠ æ‡¸åœæ•ˆæœ
  const articleCards = document.querySelectorAll('.article-card');
  articleCards.forEach(card => {
    card.addEventListener('mouseenter', () => {
      card.style.transform = 'translateY(-4px)';
    });
    
    card.addEventListener('mouseleave', () => {
      card.style.transform = 'translateY(0)';
    });
  });
  
  // ç‚ºåˆ†é¡å¡ç‰‡æ·»åŠ æ‡¸åœæ•ˆæœ
  const categoryCards = document.querySelectorAll('.category-card');
  categoryCards.forEach(card => {
    card.addEventListener('mouseenter', () => {
      card.style.transform = 'translateY(-4px)';
    });
    
    card.addEventListener('mouseleave', () => {
      card.style.transform = 'translateY(0)';
    });
  });
});
</script>
      }
    }
    
    let ticking = false;
    function requestTick() {
      if (!ticking) {
        requestAnimationFrame(() => {
          updateActiveTOC();
          ticking = false;
        });
        ticking = true;
      }
    }
    
    window.addEventListener('scroll', requestTick);
    updateActiveTOC();
  }
});
</script>
              </a>
            </div>
          </div>
        </div>
        
        <div class="hero-image">
          <div class="hero-avatar">
            <img src="{{ '/assets/image/logo.jpg' | relative_url }}" 
                 alt="YoFat Profile"
                 loading="lazy"
                 decoding="async"
                 width="200"
                 height="200">
          </div>
          <!-- æŠ€èƒ½æ¨™ç±¤ -->
          <div class="skill-tags">
            <span class="skill-tag">Python</span>
            <span class="skill-tag">JavaScript</span>
            <span class="skill-tag">Security</span>
            <span class="skill-tag">AI/ML</span>
          </div>
        </div>
      </div>
    </section>

    <!-- ç†±é–€æ–‡ç« å€åŸŸ -->
    <section id="latest-posts" class="section">
      <h2>ğŸ”¥ ç†±é–€æ–‡ç« </h2>
      <div class="posts-horizontal">
        {% for post in site.articles limit:3 %}
          <article class="post-card-horizontal">
            <div class="post-content-horizontal">
              <h3><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h3>
              <p class="post-excerpt">{{ post.excerpt | strip_html | truncatewords: 15 }}</p>
              <div class="post-meta-horizontal">
                <span class="post-date">{{ post.date | date: "%m-%d" }}</span>
                {% if post.categories.size > 0 %}
                  <span class="post-category">{{ post.categories | first }}</span>
                {% endif %}
              </div>
            </div>
            <div class="post-read-more">
              <a href="{{ post.url | relative_url }}" class="read-more-btn">é–±è®€ â†’</a>
            </div>
          </article>
        {% endfor %}
      </div>
    </section>

    <!-- é—œæ–¼æˆ‘å€åŸŸ -->
    <section id="about-me" class="section">
      <h2>ğŸ‘¨â€ğŸ’» é—œæ–¼æˆ‘</h2>
      <div class="about-content">
        <div class="intro-card">
          <div class="intro-icon">ğŸ‘‹</div>
          <div class="intro-text">
            <p>ä½ å¥½ï¼Œæˆ‘æ˜¯ <strong>YoFat</strong>ï¼Œæ­£åœ¨å­¸ç¿’ç¶²è·¯å®‰å…¨å’Œäººå·¥æ™ºèƒ½æŠ€è¡“çš„å­¸ç”Ÿã€‚</p>
            <p>æˆ‘å–œæ­¡é€éå¯¦ä½œä¾†å­¸ç¿’æ–°æŠ€è¡“ï¼Œä¸¦å°‡å­¸ç¿’éç¨‹è¨˜éŒ„åœ¨é€™å€‹éƒ¨è½æ ¼ä¸­ã€‚</p>
          </div>
        </div>
        
        <div class="skills-compact">
          <span class="skill-tag python">ğŸ Python</span>
          <span class="skill-tag js">âš¡ JavaScript</span>
          <span class="skill-tag security">ğŸ”’ è³‡å®‰åŸºç¤</span>
          <span class="skill-tag ai">ğŸ¤– æ©Ÿå™¨å­¸ç¿’</span>
          <span class="skill-tag web">ğŸŒ ç¶²é é–‹ç™¼</span>
        </div>
      </div>
    </section>
  </div>

  <!-- å³æ¬„ï¼šç²¾ç°¡å·¥å…· -->
  <aside class="siderail">
    <div class="card">
      <div class="card-title">ğŸš€ å¿«é€Ÿå°èˆª</div>
      <div class="quick-nav">
        <a href="{{ '/categories.html' | relative_url }}" class="nav-item">ğŸ“‚ åˆ†é¡</a>
        <a href="{{ '/tags.html' | relative_url }}" class="nav-item">ğŸ·ï¸ æ¨™ç±¤</a>
        <a href="{{ '/search.html' | relative_url }}" class="nav-item">ğŸ” æœå°‹</a>
      </div>
    </div>
    
    <div class="card">
      <div class="card-title">ğŸ“Š ç¶²ç«™çµ±è¨ˆ</div>
      <div class="stats-compact">
        <div class="stat-item">
          <span class="stat-icon">ğŸ“</span>
          <span class="stat-number">{{ site.articles.size }}</span>
          <span class="stat-label">ç¯‡æ–‡ç« </span>
        </div>
        
        <div class="stat-item">
          <span class="stat-icon">ğŸ“‚</span>
          <span class="stat-number">
            {% assign categories = site.articles | map: 'categories' | join: ',' | split: ',' | uniq %}
            {{ categories.size }}
          </span>
          <span class="stat-label">å€‹åˆ†é¡</span>
        </div>
        
        <div class="stat-item">
          <span class="stat-icon">ğŸ·ï¸</span>
          <span class="stat-number">
            {% assign tags = site.articles | map: 'tags' | join: ',' | split: ',' | uniq %}
            {{ tags.size }}
          </span>
          <span class="stat-label">å€‹æ¨™ç±¤</span>
        </div>
        
        {% if site.articles.size > 0 %}
        <div class="stat-item latest-post">
          <span class="stat-icon">ğŸ•’</span>
          <span class="stat-label">æœ€æ–°æ–‡ç« </span>
          <a href="{{ site.articles.first.url | relative_url }}" class="latest-post-link">
            {{ site.articles.first.title | truncate: 25 }}
          </a>
          <span class="stat-date">{{ site.articles.first.date | date: "%m-%d" }}</span>
        </div>
        {% endif %}
      </div>
    </div>
    
    <div class="card">
      <div class="card-title">â­ GitHub</div>
      <div class="github-section">
        <a class="github-button"
           href="https://github.com/{{ site.github_owner }}/{{ site.github_repo }}"
           data-icon="octicon-star"
           data-size="large"
           data-show-count="true">
          Star
        </a>
      </div>
    </div>
  </aside>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  // é¦–é å°ˆç”¨çš„ç°¡å–® TOC ç”Ÿæˆ
  const tocContainer = document.getElementById("toc");
  if (tocContainer) {
    const tocItems = [
      { href: '#latest-posts', text: 'ğŸ”¥ ç†±é–€æ–‡ç« ' },
      { href: '#about-me', text: 'ğŸ‘¨â€ğŸ’» é—œæ–¼æˆ‘' }
    ];

    tocItems.forEach(item => {
      const link = document.createElement('a');
      link.href = item.href;
      link.textContent = item.text;
      link.className = 'toc-link';
      tocContainer.appendChild(link);
    });

    // ç²å–æ‰€æœ‰ TOC é€£çµ
    const tocLinks = Array.from(tocContainer.querySelectorAll('.toc-link'));
    let isScrolling = false;
    
    // ç‚ºæ¯å€‹é€£çµæ·»åŠ é»æ“Šäº‹ä»¶
    tocItems.forEach((item, index) => {
      const link = tocLinks[index];
      if (link) {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          
          // æš«åœè‡ªå‹•æ»¾å‹•æª¢æ¸¬
          isScrolling = true;
          
          // ç§»é™¤æ‰€æœ‰ active ç‹€æ…‹
          tocLinks.forEach(l => l.classList.remove('active'));
          // è¨­ç½®ç•¶å‰é»æ“Šçš„é€£çµç‚º active
          link.classList.add('active');
          
          const target = document.querySelector(item.href);
          if (target) {
            const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - 100;
            window.scrollTo({
              top: targetPosition,
              behavior: "smooth"
            });
            history.replaceState(null, "", item.href);
            
            // æ»¾å‹•å®Œæˆå¾Œæ¢å¾©è‡ªå‹•æª¢æ¸¬
            setTimeout(() => {
              isScrolling = false;
            }, 1500);
          }
        });
      }
    });

    function updateActiveTOC() {
      if (isScrolling) return; // å¦‚æœæ­£åœ¨æ‰‹å‹•æ»¾å‹•ï¼Œè·³é
      
      let currentActive = null;
      const scrollTop = window.pageYOffset + 120; // è€ƒæ…®åç§»é‡
      
      // å¾å¾Œå¾€å‰æª¢æŸ¥ï¼Œæ‰¾åˆ°ç•¶å‰æ‡‰è©²é«˜äº®çš„å€åŸŸ
      for (let i = tocItems.length - 1; i >= 0; i--) {
        const sectionId = tocItems[i].href.substring(1);
        const section = document.getElementById(sectionId);
        
        if (section && section.offsetTop <= scrollTop) {
          currentActive = tocLinks[i];
          break;
        }
      }
      
      // å¦‚æœæ²’æ‰¾åˆ°ï¼Œé»˜èªç¬¬ä¸€å€‹
      if (!currentActive && tocLinks.length > 0) {
        currentActive = tocLinks[0];
      }
      
      // æ›´æ–°é«˜äº®
      tocLinks.forEach(link => link.classList.remove('active'));
      if (currentActive) {
        currentActive.classList.add('active');
      }
    }
    
    // æ»¾å‹•äº‹ä»¶ç›£è½
    let ticking = false;
    function requestTick() {
      if (!ticking) {
        requestAnimationFrame(() => {
          updateActiveTOC();
          ticking = false;
        });
        ticking = true;
      }
    }
    
    window.addEventListener('scroll', requestTick);
    updateActiveTOC(); // åˆå§‹åŸ·è¡Œ
  }
});
</script>
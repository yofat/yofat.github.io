---
layout: three-column
title: æ‰€æœ‰æ–‡ç« 
permalink: /posts.html
classes: posts-page three-column
---

<!-- ä¸‰æ¬„å¼å¸ƒå±€ -->
<div class="three-column-container">
  <!-- å·¦æ¬„ï¼šæ–‡ç« å°èˆª -->
  <aside class="left-sidebar">
    <div class="sidebar-content">
      <div class="nav-card">
        <h3 class="sidebar-title">ğŸ“š æ–‡ç« å°èˆª</h3>
        <nav class="toc-nav">
          <a href="#all-posts" class="toc-link active" data-view="all">ğŸ“„ æ‰€æœ‰æ–‡ç« </a>
          <a href="#categories-view" class="toc-link" data-view="categories">ğŸ“‚ åˆ†é¡æª¢è¦–</a>
          <a href="#timeline-view" class="toc-link" data-view="timeline">ğŸ“… æ™‚é–“è»¸</a>
        </nav>
      </div>
      
      <div class="nav-card">
        <h3 class="sidebar-title">ğŸ” å¿«é€Ÿç¯©é¸</h3>
        <div class="filter-controls">
          <div class="filter-group">
            <label>åˆ†é¡ï¼š</label>
            <select id="category-filter" class="filter-select">
              <option value="">å…¨éƒ¨åˆ†é¡</option>
              {% assign categories = site.posts | map: 'categories' | join: ',' | split: ',' | uniq | sort %}
              {% for category in categories %}
                {% unless category == '' %}
                  <option value="{{ category }}">{{ category }}</option>
                {% endunless %}
              {% endfor %}
            </select>
          </div>

          <div class="filter-group">
            <label>æ¨™ç±¤ï¼š</label>
            <select id="tag-filter" class="filter-select">
              <option value="">å…¨éƒ¨æ¨™ç±¤</option>
              {% assign tags = site.posts | map: 'tags' | join: ',' | split: ',' | uniq | sort %}
              {% for tag in tags %}
                {% unless tag == '' %}
                  <option value="{{ tag }}">{{ tag }}</option>
                {% endunless %}
              {% endfor %}
            </select>
          </div>

          <div class="filter-group">
            <label>æœå°‹ï¼š</label>
            <input type="text" id="search-input" placeholder="æœå°‹æ–‡ç« ..." class="search-input">
          </div>
          
          <button id="clear-filters" class="btn btn-clear">æ¸…é™¤ç¯©é¸</button>
        </div>
      </div>
    </div>
  </aside>

  <!-- ä¸­æ¬„ï¼šæ–‡ç« å…§å®¹ -->
  <main class="main-content">
    <!-- é é¢æ¨™é¡Œ -->
    <header class="page-header">
      <h1 class="page-title">ğŸ“š æ‰€æœ‰æ–‡ç« </h1>
      <p class="page-description">æ¢ç´¢æˆ‘çš„æ‰€æœ‰å‰µä½œå…§å®¹</p>
    </header>

    <!-- æ–‡ç« çµ±è¨ˆ -->
    <div class="posts-stats">
      <div class="stat-item">
        <span class="stat-number" data-target="{{ site.posts.size }}">0</span>
        <span class="stat-label">ç¯‡æ–‡ç« </span>
      </div>
      <div class="stat-item">
        <span class="stat-number" data-target="{{ categories.size }}">0</span>
        <span class="stat-label">å€‹åˆ†é¡</span>
      </div>
      <div class="stat-item">
        <span class="stat-number" data-target="{{ tags.size }}">0</span>
        <span class="stat-label">å€‹æ¨™ç±¤</span>
      </div>
    </div>

    <!-- æ‰€æœ‰æ–‡ç« æª¢è¦– -->
    <section id="all-posts" class="posts-view active">
      <div class="posts-grid" id="posts-container">
        {% assign sorted_posts = site.posts | sort: 'date' | reverse %}
        {% for post in sorted_posts %}
        <article class="article-card" 
                 data-categories="{{ post.categories | join: ',' }}" 
                 data-tags="{{ post.tags | join: ',' }}"
                 data-title="{{ post.title | downcase }}"
                 data-date="{{ post.date | date: '%Y-%m-%d' }}">
          <div class="article-content">
            <div class="article-header">
              <h3 class="article-title">
                <a href="{{ post.url }}">{{ post.title }}</a>
              </h3>
              <div class="article-meta">
                <span class="article-date">ğŸ“… {{ post.date | date: "%Y-%m-%d" }}</span>
                {% if post.categories %}
                  {% for category in post.categories %}
                    <span class="article-category">{{ category }}</span>
                  {% endfor %}
                {% endif %}
              </div>
            </div>
            
            <div class="article-excerpt">
              {% if post.excerpt %}
                {{ post.excerpt | strip_html | truncate: 120 }}
              {% else %}
                {{ post.content | strip_html | truncate: 120 }}
              {% endif %}
            </div>
            
            <div class="article-footer">
              <div class="article-tags">
                {% for tag in post.tags limit:3 %}
                  <span class="article-tag">{{ tag }}</span>
                {% endfor %}
              </div>
              <a href="{{ post.url }}" class="btn btn-outline">é–±è®€æ›´å¤š</a>
            </div>
          </div>
        </article>
        {% endfor %}
      </div>
    </section>

    <!-- åˆ†é¡æª¢è¦– -->
    <section id="categories-view" class="posts-view">
      <div class="categories-section">
        {% assign categories = site.posts | map: 'categories' | join: ',' | split: ',' | uniq | sort %}
        {% for category in categories %}
          {% unless category == '' %}
            <div class="category-group">
              <h3 class="category-title">
                <span class="category-icon">ğŸ“‚</span>
                {{ category }}
                <span class="category-count">({{ site.posts | where: 'categories', category | size }})</span>
              </h3>
              <div class="category-posts">
                {% assign category_posts = site.posts | where: 'categories', category | sort: 'date' | reverse %}
                {% for post in category_posts %}
                  <div class="category-post-item">
                    <a href="{{ post.url }}" class="category-post-link">
                      <span class="category-post-title">{{ post.title }}</span>
                      <span class="category-post-date">{{ post.date | date: "%m-%d" }}</span>
                    </a>
                  </div>
                {% endfor %}
              </div>
            </div>
          {% endunless %}
        {% endfor %}
      </div>
    </section>

    <!-- æ™‚é–“è»¸æª¢è¦– -->
    <section id="timeline-view" class="posts-view">
      <div class="timeline">
        {% assign posts_by_year = site.posts | group_by_exp: 'post', 'post.date | date: "%Y"' %}
        {% for year_group in posts_by_year %}
          <div class="timeline-year">
            <h3 class="year-title">{{ year_group.name }}å¹´</h3>
            <div class="timeline-posts">
              {% for post in year_group.items %}
                <div class="timeline-item">
                  <div class="timeline-date">{{ post.date | date: "%m-%d" }}</div>
                  <div class="timeline-content">
                    <a href="{{ post.url }}" class="timeline-title">{{ post.title }}</a>
                    {% if post.categories.size > 0 %}
                      <span class="timeline-category">{{ post.categories | first }}</span>
                    {% endif %}
                  </div>
                </div>
              {% endfor %}
            </div>
          </div>
        {% endfor %}
      </div>
    </section>
  </main>

  <!-- å³æ¬„ï¼šå€‹äººè³‡è¨Šèˆ‡å¿«é€Ÿå°èˆª -->
  <aside class="right-sidebar">
    <div class="sidebar-content">
      <!-- å€‹äººè³‡è¨Šå¡ -->
      <div class="info-card security-researcher-card">
        <div class="profile-section">
          <img src="/assets/image/logo_transparent.png" alt="YoFat" class="profile-avatar">
          <h3 class="profile-name">YoFat</h3>
          <p class="profile-title">Security Researcher</p>
        </div>
      </div>

      <!-- å¿«é€Ÿå°èˆª -->
      <div class="nav-card">
        <h3 class="sidebar-title">ğŸš€ å¿«é€Ÿå°èˆª</h3>
        <div class="quick-nav">
          <a href="{{ '/' | relative_url }}" class="nav-link">
            <span class="nav-icon">ğŸ </span>
            <span class="nav-text">é¦–é </span>
          </a>
          <a href="{{ '/categories.html' | relative_url }}" class="nav-link">
            <span class="nav-icon">ğŸ“‚</span>
            <span class="nav-text">æ–‡ç« åˆ†é¡</span>
          </a>
          <a href="{{ '/tags.html' | relative_url }}" class="nav-link">
            <span class="nav-icon">ğŸ·ï¸</span>
            <span class="nav-text">æ¨™ç±¤é›²</span>
          </a>
          <a href="{{ '/search.html' | relative_url }}" class="nav-link">
            <span class="nav-icon">ğŸ”</span>
            <span class="nav-text">æœå°‹æ–‡ç« </span>
          </a>
        </div>
      </div>
    </div>
  </aside>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // çµ±è¨ˆæ•¸å­—å‹•ç•«
  function animateNumbers() {
    const statNumbers = document.querySelectorAll('.stat-number');
    
    statNumbers.forEach(number => {
      const target = parseInt(number.getAttribute('data-target'));
      const duration = 2000; // 2ç§’
      const step = target / (duration / 16); // 60fps
      let current = 0;
      
      const timer = setInterval(() => {
        current += step;
        if (current >= target) {
          number.textContent = target;
          clearInterval(timer);
        } else {
          number.textContent = Math.floor(current);
        }
      }, 16);
    });
  }
  
  // ç•¶é é¢è¼‰å…¥æ™‚è§¸ç™¼å‹•ç•«
  setTimeout(animateNumbers, 500);
  
  // æª¢è¦–åˆ‡æ› - ç°¡åŒ–ç‰ˆæœ¬
  function initViewSwitching() {
    const viewLinks = document.querySelectorAll('.toc-link[data-view]');
    const views = document.querySelectorAll('.posts-view');
    
    console.log('åˆå§‹åŒ–æª¢è¦–åˆ‡æ›...');
    console.log('æ‰¾åˆ°çš„å°èˆªéˆæ¥:', viewLinks.length);
    console.log('æ‰¾åˆ°çš„æª¢è¦–:', views.length);
    
    viewLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        
        const viewName = this.getAttribute('data-view');
        console.log('é»æ“Šäº†:', viewName);
        
        // ç§»é™¤æ‰€æœ‰ active ç‹€æ…‹
        viewLinks.forEach(l => l.classList.remove('active'));
        views.forEach(v => {
          v.classList.remove('active');
          v.style.display = 'none';
        });
        
        // è¨­ç½®ç•¶å‰éˆæ¥ç‚º active
        this.classList.add('active');
        
        // é¡¯ç¤ºå°æ‡‰çš„æª¢è¦–
        let targetViewId;
        if (viewName === 'all') {
          targetViewId = 'all-posts';
        } else {
          targetViewId = viewName + '-view';
        }
        
        const targetView = document.getElementById(targetViewId);
        if (targetView) {
          targetView.classList.add('active');
          targetView.style.display = 'block';
          console.log('æˆåŠŸåˆ‡æ›åˆ°:', targetViewId);
        } else {
          console.error('æ‰¾ä¸åˆ°ç›®æ¨™æª¢è¦–:', targetViewId);
        }
      });
    });
  }
  
  // ç¢ºä¿ DOM å®Œå…¨è¼‰å…¥å¾Œåˆå§‹åŒ–
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initViewSwitching);
  } else {
    initViewSwitching();
  }

  // ç¯©é¸åŠŸèƒ½
  const categoryFilter = document.getElementById('category-filter');
  const tagFilter = document.getElementById('tag-filter');
  const searchInput = document.getElementById('search-input');
  const clearFilters = document.getElementById('clear-filters');
  const postsContainer = document.getElementById('posts-container');

  function filterPosts() {
    const categoryValue = categoryFilter.value.toLowerCase();
    const tagValue = tagFilter.value.toLowerCase();
    const searchValue = searchInput.value.toLowerCase();
    
    const posts = postsContainer.querySelectorAll('.article-card');
    let visibleCount = 0;

    posts.forEach(post => {
      const categories = post.getAttribute('data-categories').toLowerCase();
      const tags = post.getAttribute('data-tags').toLowerCase();
      const title = post.getAttribute('data-title');
      
      const categoryMatch = !categoryValue || categories.includes(categoryValue);
      const tagMatch = !tagValue || tags.includes(tagValue);
      const searchMatch = !searchValue || title.includes(searchValue);
      
      if (categoryMatch && tagMatch && searchMatch) {
        post.style.display = '';
        visibleCount++;
      } else {
        post.style.display = 'none';
      }
    });

    // æ›´æ–°çµæœæç¤º
    updateFilterResults(visibleCount, posts.length);
  }

  function updateFilterResults(visible, total) {
    let resultsInfo = document.querySelector('.filter-results');
    if (!resultsInfo) {
      resultsInfo = document.createElement('div');
      resultsInfo.className = 'filter-results';
      postsContainer.parentNode.insertBefore(resultsInfo, postsContainer);
    }
    
    if (visible === total) {
      resultsInfo.innerHTML = '';
    } else {
      resultsInfo.innerHTML = `<p>é¡¯ç¤º ${visible} / ${total} ç¯‡æ–‡ç« </p>`;
    }
  }

  function clearAllFilters() {
    categoryFilter.value = '';
    tagFilter.value = '';
    searchInput.value = '';
    filterPosts();
  }

  // äº‹ä»¶ç›£è½
  categoryFilter.addEventListener('change', filterPosts);
  tagFilter.addEventListener('change', filterPosts);
  searchInput.addEventListener('input', filterPosts);
  clearFilters.addEventListener('click', clearAllFilters);
});
</script>